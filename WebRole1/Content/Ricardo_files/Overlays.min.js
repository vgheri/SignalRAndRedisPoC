function it_closeOverlays() {
    var listOverlay = it_getElementsByClass('overlayctrl');
    for (var o in listOverlay)
        listOverlay[o].style.display = 'none';
    document.getElementById('overlay').style.display = 'none';
}

function it_getWindowSize() {
    var dimensions = [0, 0];
    if (window.innerWidth) {
        dimensions[0] = window.innerWidth;
        dimensions[1] = window.innerHeight;
    }
    else if (document.documentElement && document.documentElement.clientWidth) {
        dimensions[0] = document.documentElement.clientWidth;
        dimensions[1] = document.documentElement.clientHeight;
    }
    else if (document.body) {
        dimensions[0] = document.body.clientWidth;
        dimensions[1] = document.body.clientHeight;
    }
    return dimensions;
}
function it_getTotalSize() {
    var dimensions = [0, 0];
    dimensions[0] = document.documentElement.scrollWidth;
    dimensions[1] = document.documentElement.scrollHeight;
    if (document.documentElement.clientHeight > dimensions[1]) { // now IE 7 + Opera with "min window"
        dimensions[0] = document.documentElement.clientWidth;
        dimensions[1] = document.documentElement.clientHeight;
    }
    if (document.body.scrollHeight > dimensions[1]) { // safari
        dimensions[0] = document.body.scrollWidth;
        dimensions[1] = document.body.scrollHeight;
    }
    return dimensions;
}

function Overlay(state, id, opacite) {
    var objCtrl = document.getElementById(id).parentNode;
    var objOpac = document.getElementById('overlay');
    if (!state) {
        objCtrl.style.display = 'none';
        if (objOpac != null) {
            objOpac.style.display = 'none';
        }
    }
    else {
        $(document).scrollTop(0);
        objCtrl.style.display = '';
        objOpac.style.display = '';

        var windowHeight = it_getWindowSize()[1];
        var ctrlHeight = objCtrl.clientHeight;
        if (windowHeight > ctrlHeight) objCtrl.style.paddingTop = Math.round((windowHeight - ctrlHeight) / 3) + 'px';

        if (opacite === undefined) opacite = 40;
        objOpac.style.filter = "alpha(opacity=" + opacite + ")"; //Internet Explorer
        opacite = opacite / 100;
        objOpac.style.opacity = opacite; //navigateurs récents (firefox, opera, Safari>1,2...) css3
        objOpac.style.MozOpacity = opacite; //anciennes versions firefox
        objOpac.style.KhtmlOpacity = opacite; //Konqueror, Safari<1,2
        var totalSize = it_getTotalSize();
        objOpac.style.width = totalSize[0] + 'px';
        objOpac.style.height = totalSize[1] + 'px';
    }
    return false;
}